---

title: Feature Extractor


keywords: fastai
sidebar: home_sidebar



nb_path: "03_Feature_Profession.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 03_Feature_Profession.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<center><strong style="font-size:40px">Feature Extraction</strong></center>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TextCleaner" class="doc_header"><code>class</code> <code>TextCleaner</code><a href="https://git.uk/machine-learning/data-science-and-statistical-learning/am_combiner/tree/master/am_combiner/features/profession.py#L16" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TextCleaner</code>()</p>
</blockquote>
<p>The text cleaner class is contains a library of functions to clean a text.
All text cleaning functions are to be contained in the class</p>
<p>** In future we can add more functions to clean the text using more functions</p>
<h2 id="Attributes">Attributes<a class="anchor-link" href="#Attributes"> </a></h2><p>text: str
    The string representing article text. Just a normal raw text, nothing else.</p>
<h2 id="Methods">Methods<a class="anchor-link" href="#Methods"> </a></h2><p>clean_tag(text: str)
    Accept a text string containing an article which needs to be cleaned</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="check_words" class="doc_header"><code>check_words</code><a href="https://git.uk/machine-learning/data-science-and-statistical-learning/am_combiner/tree/master/am_combiner/features/profession.py#L51" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>check_words</code>(<strong><code>sentence</code></strong>:<code>List</code>[<code>str</code>], <strong><code>words</code></strong>:<code>List</code>[<code>str</code>])</p>
</blockquote>
<p>The check function checks a specific list of words in a sentence</p>
<h2 id="Parameters:">Parameters:<a class="anchor-link" href="#Parameters:"> </a></h2><p>sentence: list,
    The list of sentences to be searched
words: list,
    The list of words which are to be searched</p>
<h2 id="Returns:">Returns:<a class="anchor-link" href="#Returns:"> </a></h2><p>sentences: list,
    The list of sentences which have the words that were searched for</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ProfessionFeatureExtractor" class="doc_header"><code>class</code> <code>ProfessionFeatureExtractor</code><a href="https://git.uk/machine-learning/data-science-and-statistical-learning/am_combiner/tree/master/am_combiner/features/profession.py#L72" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ProfessionFeatureExtractor</code>(<strong><code>text</code></strong>:<code>str</code>, <strong><code>entity_name</code></strong>:<code>str</code>, <strong><code>occupation_list</code></strong>:<code>List</code>[<code>str</code>])</p>
</blockquote>
<p>The class lists all the patterns used to identify the various ways to obtain featureX</p>
<p>We initialize the class by a spacy transformed text and the entity name and a list of occupations obtained
from the occupation list stored as a csv</p>
<p>...</p>
<h2 id="Attributes">Attributes<a class="anchor-link" href="#Attributes"> </a></h2><p>text: str
    The string representing article text. Just a normal raw text, nothing else.
entity_name: str
    The entity whose article texts we are transforming to obtaining the feature
occupation_list: list
    The global list of occupations obtained and modified from an external CSV file</p>
<h2 id="Methods">Methods<a class="anchor-link" href="#Methods"> </a></h2><p>pattern_subj(self)
    Accepts the initialized class for the text which needs to checked. Check from the NSUBJ occurrence and
    then returns the noun chunks containing the NSUBJ</p>
<p>pattern_appos(self)
    Accepts the initialized class for the text which needs to checked. Check from the APPOS occurrence and
    then returns the noun chunks APPOS</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ProfessionVisitor" class="doc_header"><code>class</code> <code>ProfessionVisitor</code><a href="https://git.uk/machine-learning/data-science-and-statistical-learning/am_combiner/tree/master/am_combiner/features/profession.py#L169" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ProfessionVisitor</code>(<strong><code>field_name</code></strong>:<code>Features</code>, <strong><code>occupation_csv_path</code></strong>:<code>str</code>, <strong><code>track_features</code></strong>:<code>bool</code>=<em><code>False</code></em>) :: <code>ArticleVisitor</code></p>
</blockquote>
<p>This class is a concrete implementation of a visitor pattern.
This implementation makes sure that any tokens in entity name are not part of extracted PERSON/ORG tuples.</p>
<h2 id="Attributes">Attributes<a class="anchor-link" href="#Attributes"> </a></h2>
<pre><code>field_name: class
    the name of the field is automatically obtained from feature class attribute for profession
    visitor. It is obtained during the run of the main file
occupation_csv_path: str
    The exact file path containing the occupation names csv
track_features: bool
    See the base class</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">New_Article</span><span class="o">.</span><span class="n">extracted_entities</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>defaultdict(set,
            {&lt;Features.GPE: 11&gt;: {King City,
              King City,
              Us,
              Carmel Valley,
              Marina,
              Monterey,
              Moss Landing,
              Pacific Grove,
              Pebble Beach,
              Prunedale,
              Salinas,
              Salinas Valley,
              Sand City,
              Monterey County},
             &lt;Features.ORG: 4&gt;: {King City Police Department,
              Sgt,
              KCPD,
              Carrillo,
              Ford,
              Carrillo,
              KCPD,
              Carrillo,
              Powers,
              KCPD,
              Powers,
              Powers,
              City Council,
              theÃƒâ€š Weekly,
              Monterey County Weekly,
              Monterey County Weekly , Seaside,
              CA - Milestone Communications Inc.,
              Coast Weekly},
             &lt;Features.CARDINAL: 6&gt;: {one, one, two, 0},
             &lt;Features.ORDINAL: 19&gt;: {third, second},
             &lt;Features.DATE: 9&gt;: {February,
              years,
              months,
              Aug. 8,
              just weeks,
              May,
              Aug. 12},
             &lt;Features.PERSON: 1&gt;: {Bobby Carrillo,
              Ã¢â€šÂ¬ Ã…,
              Michael Powers,
              Ã¢â€šÂ¬ Ã¢â€žÂ¢,
              Abraham,
              Carrillo,
              Ã¢â€šÂ¬ Ã…,
              Carrillo,
              Carrillo,
              Explorer,
              Kenneth Tippery,
              Dennis HegwoodÃƒÂ¢,
              Ã¢â€šÂ¬ Ã…â€œI,
              Ã¢â€šÂ¬ Ã…â€œI,
              Steve Somers,
              Ã¢â€šÂ¬ Ã…â€œimmediate,
              Ã¢â€šÂ¬ ItÃƒÂ¢,
              Sara Rubin,
              Mary Duan,
              Carmel,
              Castroville,
              Del Rey Oaks},
             &lt;Features.TIME: 12&gt;: {night},
             &lt;Features.PRODUCT: 18&gt;: {Explorer, Ã¢â€šÂ¬},
             &#39;Features.PROFESSION_DEPENDENCY_PARSING&#39;: [&#39;King City Officer Abraham Aguayo&#39;]})</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

